# Portfolio Dashboard - Thai Baht (THB) Currency Support

## 🎯 ภาพรวม

เพิ่มฟีเจอร์แสดงค่าเงินบาทในหน้า Portfolio Dashboard เพื่อให้ง่ายต่อการติดตามมูลค่าพอร์ตในสกุลเงินไทย

---

## 💰 ฟีเจอร์ใหม่

### 1. **ตั้งค่าอัตราแลกเปลี่ยน (Exchange Rate)**

**ตำแหน่ง:** ด้านบนของ Dashboard

**ฟังก์ชัน:**
- ปรับอัตราแลกเปลี่ยน USD → THB
- ค่าเริ่มต้น: **35.5 บาท**
- ช่วงค่า: 1.0 - 50.0 บาท
- เพิ่ม/ลดทีละ 0.1 บาท

**วิธีใช้:**
```
💱 อัตราแลกเปลี่ยน (USD → THB)
[35.5] ← ปรับค่าที่นี่
```

---

### 2. **เลือกสกุลเงินที่แสดงผล**

**ตัวเลือก:**
1. **💵 USD** - แสดงเฉพาะดอลลาร์
2. **💰 THB (บาท)** - แสดงเฉพาะบาท
3. **📊 ทั้งหมด** - แสดงทั้ง USD และ THB (ค่าเริ่มต้น)

**การเลือก:**
```
เลือกสกุลเงิน
○ 💵 USD   ○ 💰 THB (บาท)   ● 📊 ทั้งหมด
```

---

### 3. **แสดงผลแบบ USD เท่านั้น (💵 USD)**

**Metrics ที่แสดง:**
- 💰 มูลค่ารวม (USD): $664.60
- 💵 ต้นทุนรวม (USD): $690.34
- 📈 กำไร/ขาดทุน (USD): $-25.73 (-3.73%)
- 🎯 จำนวนหุ้น: 6 ตัว

**ตัวอย่าง:**
```
┌─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┐
│ 💰 มูลค่ารวม (USD)  │ 💵 ต้นทุนรวม (USD)  │ 📈 กำไร/ขาดทุน      │ 🎯 จำนวนหุ้น        │
│ $664.60             │ $690.34             │ $-25.73             │ 6 ตัว              │
│ ▼ $-25.73           │                     │ ▼ -3.73%            │                     │
└─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```

---

### 4. **แสดงผลแบบ THB เท่านั้น (💰 THB)**

**Metrics ที่แสดง:**
- 💰 มูลค่ารวม (THB): ฿23,593.30
- 💵 ต้นทุนรวม (THB): ฿24,507.07
- 📈 กำไร/ขาดทุน (THB): ฿-913.77 (-3.73%)
- 🎯 จำนวนหุ้น: 6 ตัว

**การคำนวณ:**
```
มูลค่า THB = มูลค่า USD × อัตราแลกเปลี่ยน
฿23,593.30 = $664.60 × 35.5
```

**ตัวอย่าง:**
```
┌─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┐
│ 💰 มูลค่ารวม (THB)  │ 💵 ต้นทุนรวม (THB)  │ 📈 กำไร/ขาดทุน      │ 🎯 จำนวนหุ้น        │
│ ฿23,593.30          │ ฿24,507.07          │ ฿-913.77            │ 6 ตัว              │
│ ▼ ฿-913.77          │                     │ ▼ -3.73%            │                     │
└─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```

---

### 5. **แสดงผลทั้งหมด (📊 ทั้งหมด)** - ค่าเริ่มต้น

**โครงสร้าง:**
1. **แถวที่ 1: USD**
2. **แถวที่ 2: THB**

**ตัวอย่างการแสดงผล:**

```
📊 สรุปภาพรวม

เลือกสกุลเงิน: [📊 ทั้งหมด]

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

##### 💵 สกุลเงินดอลลาร์ (USD)

┌─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┐
│ 💰 มูลค่ารวม        │ 💵 ต้นทุนรวม        │ 📈 กำไร/ขาดทุน      │ 🎯 จำนวนหุ้น        │
│ $664.60             │ $690.34             │ $-25.73             │ 6 ตัว              │
│ ▼ $-25.73           │                     │ ▼ -3.73%            │                     │
└─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┘

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

##### 💰 สกุลเงินบาท (THB) - อัตรา 35.50

┌─────────────────────┬─────────────────────┬─────────────────────┬─────────────────────┐
│ 💰 มูลค่ารวม        │ 💵 ต้นทุนรวม        │ 📈 กำไร/ขาดทุน      │ 💱 อัตราแลกเปลี่ยน  │
│ ฿23,593.30          │ ฿24,507.07          │ ฿-913.77            │ ฿35.50/USD          │
│ ▼ ฿-913.77          │                     │ ▼ -3.73%            │                     │
└─────────────────────┴─────────────────────┴─────────────────────┴─────────────────────┘
```

---

### 6. **ตารางรายละเอียดหุ้น - แสดงค่าบาท**

**ฟีเจอร์:**
- Checkbox: **💰 แสดงค่าเป็นบาทในตาราง**
- Default: ไม่เลือก (แสดง USD)
- เมื่อเลือก: แปลงค่าทั้งหมดเป็นบาท

**ตัวอย่างตาราง (USD):**
```
┌──────────┬────────┬──────────┬──────────────┬──────────┬──────────┬──────────────┬────────────────┐
│ รหัสหุ้น │ จำนวน │ ราคาซื้อ │ ราคาปัจจุบัน │ ต้นทุน   │ มูลค่า   │ กำไร/ขาดทุน │ % เปลี่ยนแปลง │
├──────────┼────────┼──────────┼──────────────┼──────────┼──────────┼──────────────┼────────────────┤
│ NVDA     │ 2.30   │ $177.48  │ $187.67      │ $407.49  │ $430.89  │ 🟢 $23.40    │ ↗️ 5.74%       │
│ DNN      │ 12.40  │ $3.39    │ $3.90        │ $42.04   │ $48.36   │ 🟢 $6.32     │ ↗️ 15.04%      │
└──────────┴────────┴──────────┴──────────────┴──────────┴──────────┴──────────────┴────────────────┘
```

**ตัวอย่างตาราง (THB) - เมื่อเลือก checkbox:**
```
┌──────────┬────────┬──────────┬──────────────┬──────────┬──────────┬──────────────┬────────────────┐
│ รหัสหุ้น │ จำนวน │ ราคาซื้อ │ ราคาปัจจุบัน │ ต้นทุน   │ มูลค่า   │ กำไร/ขาดทุน │ % เปลี่ยนแปลง │
├──────────┼────────┼──────────┼──────────────┼──────────┼──────────┼──────────────┼────────────────┤
│ NVDA     │ 2.30   │ ฿6,300.54│ ฿6,662.29    │฿14,465.92│฿15,296.56│ 🟢 ฿830.64   │ ↗️ 5.74%       │
│ DNN      │ 12.40  │ ฿120.35  │ ฿138.45      │ ฿1,492.42│ ฿1,716.84│ 🟢 ฿224.42   │ ↗️ 15.04%      │
└──────────┴────────┴──────────┴──────────────┴──────────┴──────────┴──────────────┴────────────────┘
```

**การคำนวณตัวอย่าง (NVDA):**
```
ราคาซื้อ THB = $177.48 × 35.5 = ฿6,300.54
ราคาปัจจุบัน THB = $187.67 × 35.5 = ฿6,662.29
ต้นทุน THB = $407.49 × 35.5 = ฿14,465.92
มูลค่า THB = $430.89 × 35.5 = ฿15,296.56
กำไร THB = $23.40 × 35.5 = ฿830.64
```

---

## 🔄 การคำนวณ

### สูตรทั่วไป:
```
ค่าบาท = ค่าดอลลาร์ × อัตราแลกเปลี่ยน
```

### ตัวอย่างการคำนวณแบบละเอียด:

**กรณี: Portfolio มีมูลค่า $664.60, อัตรา 35.5 บาท**

1. **มูลค่ารวม (THB):**
   ```
   ฿23,593.30 = $664.60 × 35.5
   ```

2. **ต้นทุนรวม (THB):**
   ```
   ฿24,507.07 = $690.34 × 35.5
   ```

3. **กำไร/ขาดทุน (THB):**
   ```
   ฿-913.77 = $-25.73 × 35.5
   ```

4. **% เปลี่ยนแปลง:**
   ```
   -3.73% = (($664.60 - $690.34) / $690.34) × 100
   ```
   *หมายเหตุ: % เดียวกันทั้ง USD และ THB*

---

## 📊 การใช้งานจริง

### Scenario 1: ต้องการดูมูลค่าเป็นบาทอย่างเดียว

**ขั้นตอน:**
1. เปิดแท็บ **🏠 Dashboard**
2. ปรับอัตราแลกเปลี่ยนให้ตรงกับปัจจุบัน (เช่น 35.5)
3. เลือก **💰 THB (บาท)**
4. ดูมูลค่าทั้งหมดเป็นบาท

**ผลลัพธ์:**
- มูลค่ารวม: ฿23,593.30
- ต้นทุนรวม: ฿24,507.07
- กำไร/ขาดทุน: ฿-913.77

---

### Scenario 2: ต้องการเปรียบเทียบ USD และ THB

**ขั้นตอน:**
1. เปิดแท็บ **🏠 Dashboard**
2. เลือก **📊 ทั้งหมด** (ค่าเริ่มต้น)
3. ดูเปรียบเทียบทั้ง 2 สกุลเงิน

**ผลลัพธ์:**
```
USD: $664.60 = THB: ฿23,593.30
```

---

### Scenario 3: ต้องการดูตารางเป็นบาท

**ขั้นตอน:**
1. Scroll ลงไปที่ส่วน **📋 รายละเอียดหุ้นแต่ละตัว**
2. เลือก checkbox **💰 แสดงค่าเป็นบาทในตาราง**
3. ตารางจะแสดงค่าทั้งหมดเป็นบาท

**ข้อดี:**
- เห็นราคาหุ้นเป็นบาท (เช่น NVDA ฿6,662.29/หุ้น)
- คำนวณต้นทุนและกำไรเป็นบาทได้ง่าย

---

## ⚙️ การตั้งค่าอัตราแลกเปลี่ยน

### วิธีหาอัตราแลกเปลี่ยนปัจจุบัน:

1. **ธนาคารแห่งประเทศไทย (BOT)**
   - เว็บไซต์: https://www.bot.or.th
   - อัตราขายถัวเฉลี่ย

2. **Google Search**
   - ค้นหา: "USD to THB"
   - ใช้ค่าจาก Google Finance

3. **แอปธนาคาร**
   - SCB Easy
   - Kbank Mobile Banking
   - ใช้อัตราซื้อขายถัวเฉลี่ย

**ตัวอย่าง:**
```
วันที่ 26 มกราคม 2026
USD/THB = 35.50
```

### การปรับอัตราใน Dashboard:

1. คลิกที่ช่อง **💱 อัตราแลกเปลี่ยน (USD → THB)**
2. พิมพ์ค่าใหม่ (เช่น 35.5)
3. ระบบคำนวณใหม่ทันที

---

## 🎨 UI Elements

### สัญลักษณ์ที่ใช้:

| สัญลักษณ์ | ความหมาย |
|---------|---------|
| 💵 | ดอลลาร์ (USD) |
| 💰 | บาท (THB) |
| 💱 | อัตราแลกเปลี่ยน |
| 📊 | ทั้งหมด (Both) |
| 🟢 | กำไร (ค่าบวก) |
| 🔴 | ขาดทุน (ค่าลบ) |
| ↗️ | เพิ่มขึ้น |
| ↘️ | ลดลง |
| ✅ | เลือก/เปิดใช้งาน |

### Color Coding:

- **สีเขียว** 🟢 = กำไร (Profit)
- **สีแดง** 🔴 = ขาดทุน (Loss)
- **สีน้ำเงิน** = ข้อมูลทั่วไป

---

## ⚠️ ข้อควรระวัง

### 1. **อัตราแลกเปลี่ยนไม่อัพเดทอัตโนมัติ**
- ต้องปรับค่าเองทุกครั้งที่ใช้งาน
- แนะนำตรวจสอบอัตราล่าสุดก่อนใช้งาน

### 2. **ค่าเป็นการประมาณการ**
- ไม่รวมค่าธรรมเนียมแลกเปลี่ยน
- ไม่รวมค่าสเปรดของธนาคาร

### 3. **% กำไร/ขาดทุน**
- คำนวณจากราคาต้นทุน USD
- ไม่เปลี่ยนแปลงตามอัตราแลกเปลี่ยน
- เช่น: กำไร 5.74% ใน USD = กำไร 5.74% ใน THB

### 4. **ตารางรายละเอียด**
- เปลี่ยนสกุลเงินทั้งตาราง
- ไม่สามารถแสดงผสมได้ (ต้องเลือกอย่างใดอย่างหนึ่ง)

---

## 💡 Tips & Best Practices

### 1. **อัพเดทอัตราแลกเปลี่ยนทุกวัน**
- ตั้งค่าใหม่ทุกครั้งที่เปิด Dashboard
- ใช้อัตราจากธนาคารแห่งประเทศไทย

### 2. **ใช้โหมด "📊 ทั้งหมด" สำหรับการเปรียบเทียบ**
- เห็นทั้ง USD และ THB พร้อมกัน
- ง่ายต่อการตรวจสอบการคำนวณ

### 3. **บันทึกอัตราแลกเปลี่ยนที่ใช้**
- ถ้าต้องการความแม่นยำ
- บันทึกว่าใช้อัตราเท่าไหร่เมื่อซื้อหุ้น

### 4. **ใช้ตารางบาทเมื่อต้องการคำนวณ Tax**
- สะดวกสำหรับคำนวณภาษี
- รายงานกำไร/ขาดทุนเป็นบาท

---

## 📈 ตัวอย่างการใช้งานจริง

### Portfolio Example:

**หุ้นในพอร์ต:**
- NVDA: 2.30 หุ้น @ $177.48 → ปัจจุบัน $187.67
- DNN: 12.40 หุ้น @ $3.39 → ปัจจุบัน $3.90
- EOSE: 1.40 หุ้น @ $16.80 → ปัจจุบัน $17.11
- (และอื่นๆ รวม 6 ตัว)

**สรุป USD:**
- มูลค่ารวม: $664.60
- ต้นทุน: $690.34
- กำไร/ขาดทุน: $-25.73 (-3.73%)

**สรุป THB (อัตรา 35.5):**
- มูลค่ารวม: ฿23,593.30
- ต้นทุน: ฿24,507.07
- กำไร/ขาดทุน: ฿-913.77 (-3.73%)

**Insight:**
- ขาดทุนรวม: 913 บาท
- ควรพิจารณา Cut Loss หรือ Hold ต่อ
- % ขาดทุนยังไม่มาก (3.73%)

---

## 🔧 Technical Details

### ไฟล์ที่แก้ไข:
- `dashboard.py` (lines 520-800)

### ตัวแปรสำคัญ:
```python
usd_to_thb = 35.5  # อัตราแลกเปลี่ยน
total_value_thb = total_value_usd * usd_to_thb
total_cost_thb = total_cost_usd * usd_to_thb
total_profit_loss_thb = total_profit_loss_usd * usd_to_thb
```

### Streamlit Widgets:
- `st.number_input()` - ปรับอัตราแลกเปลี่ยน
- `st.radio()` - เลือกสกุลเงิน
- `st.checkbox()` - เปิด/ปิดตารางบาท
- `st.metric()` - แสดงค่าสถิติ

---

## 📚 Related Documentation

- `PORTFOLIO_GUIDE.md` - คู่มือ Portfolio Management
- `README.md` - เอกสารหลักโครงการ
- `USAGE.md` - คู่มือการใช้งานทั่วไป

---

**เวอร์ชัน:** 1.1  
**อัพเดทล่าสุด:** 26 มกราคม 2026  
**ฟีเจอร์:** THB Currency Support in Portfolio Dashboard
